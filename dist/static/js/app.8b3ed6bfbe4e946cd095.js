webpackJsonp([1],{"+otM":function(e,t){},"1uuo":function(e,t){},"7EOs":function(e,t){},"9KOC":function(e,t){},HzHx:function(e,t){},M0KR:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i={props:["itemName","price","value","dph"],data:function(){return{img:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/1024px-Image_created_with_a_mobile_phone.png"}},methods:{addToCard:function(){console.log(this.itemName);var e=new CustomEvent("addToCardEvent",{detail:{itemName:this.itemName,value:this.value,price:this.price,dph:this.dph}});window.dispatchEvent(e)}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},[n("p",[e._v(e._s(e.itemName))]),e._v(" "),n("img",{attrs:{src:e.img,alt:""}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"number",name:"",id:"",min:"1"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),n("span",[e._v("cena vƒç DPH "+e._s(e.price)+" czk")]),e._v(" "),n("span",[e._v("cena bez DPH "+e._s(e.price-e.price*(.01*e.dph))+" czk")]),e._v(" "),n("span",[e._v("dph: "+e._s(e.dph)+"%")]),e._v(" "),n("button",{on:{click:function(t){return e.addToCard()}}},[n("span",{staticClass:"material-symbols-outlined"},[e._v("\n      add_shopping_cart\n    ")])])])},staticRenderFns:[]};var o={name:"Items",components:{Item:n("VU/8")(i,s,!1,function(e){n("M0KR")},"data-v-a21496d2",null).exports},data:function(){return{text:"test"}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"items"},[t("Item",{attrs:{itemName:"vec 1",price:"10",value:"1",dph:"15"}}),this._v(" "),t("Item",{attrs:{itemName:"vec 2",price:"10",value:"5",dph:"15"}}),this._v(" "),t("Item",{attrs:{itemName:"vec 3",price:"10",value:"1",dph:"15"}}),this._v(" "),t("Item",{attrs:{itemName:"vec 4",price:"10",value:"1",dph:"15"}}),this._v(" "),t("Item",{attrs:{itemName:"vec 5",price:"10",value:"1",dph:"15"}}),this._v(" "),t("Item",{attrs:{itemName:"vec 6",price:"10",value:"1",dph:"15"}}),this._v(" "),t("Item",{attrs:{itemName:"vec 7",price:"10",value:"1",dph:"15"}}),this._v(" "),t("Item",{attrs:{itemName:"vec 8",price:"10",value:"1",dph:"15"}})],1)},staticRenderFns:[]};var l=n("VU/8")(o,r,!1,function(e){n("9KOC")},"data-v-f2769980",null).exports,c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kosikItem"},[n("span",[e._v(e._s(e.itemName))]),e._v(" "),n("span",[e._v(e._s(e.price))]),e._v(" "),n("span",{staticClass:"material-symbols-outlined",on:{click:function(t){return e.removeItem()}}},[e._v("\n    delete\n  ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"number",name:"",id:"",min:"1"},domProps:{value:e.value},on:{click:function(t){return e.callbackCallTotal()},input:function(t){t.target.composing||(e.value=t.target.value)}}})])},staticRenderFns:[]};var v=n("VU/8")({data:function(){return{itemName:"jmeno",value:1,price:10,dph:15,id:0}},methods:{callbackCallTotal:function(){this.$parent.calcItemsTotal()},calcItemTotal:function(){return{sdph:this.value*this.price,bezdph:this.value*this.price-this.price*(.01*this.dph),dph:this.value*this.price*(.01*this.dph)}},removeItem:function(){this.$parent.removeItem(this.id),this.callbackCallTotal(),this.$el.remove()}}},c,!1,function(e){n("cuTR")},"data-v-67564212",null).exports,p={data:function(){return{idGen:0,items:[]}},mounted:function(){var e=this;window.addEventListener("addToCardEvent",function(t){e.addItemToCard(t.detail)},!1),window.addEventListener("rekapitulaceEvent",function(t){t=new CustomEvent("rekapitulaceDataReturnEvent",{detail:{data:e.$children,sdph:e.$parent.celkemsdph,bezdph:e.$parent.celkembezdph,dph:e.$parent.celkemdph}});window.dispatchEvent(t)},!1)},name:"KosikItems",components:{KosikItem:v},methods:{addItemToCard:function(e){var t=new(a.a.extend(v));t.$mount(),t.itemName=e.itemName,t.value=e.value,t.price=e.price,t.$parent=this,this.idGen+=1,t.id=this.idGen,this.$children.push(t),this.$el.appendChild(t.$el),this.calcItemsTotal()},calcItemsTotal:function(){for(var e=0,t=0,n=0,a=0;a<this.$children.length;a++){var i=this.$children[a];e+=i.calcItemTotal().sdph,t+=i.calcItemTotal().bezdph,n+=i.calcItemTotal().dph}this.$parent.celkemsdph=e,this.$parent.celkembezdph=t,this.$parent.celkemdph=n},removeItem:function(e){for(var t=0;t<this.$children.length;t++){this.$children[t].id===e&&this.$children.splice(t,1)}}}},d={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"kosikItems"})},staticRenderFns:[]};var u={data:function(){return{celkemsdph:0,celkembezdph:0,celkemdph:0}},components:{KosikItems:n("VU/8")(p,d,!1,function(e){n("+otM")},"data-v-7ddda094",null).exports},name:"Kosik",methods:{}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kosik"},[n("KosikItems"),e._v(" "),n("div",{staticClass:"total"},[n("span",[e._v("Celkem s dph: "+e._s(e.celkemsdph))]),e._v(" "),n("span",[e._v("Celkem bez dph: "+e._s(e.celkembezdph))]),e._v(" "),n("span",[e._v("Celkem dph: "+e._s(e.celkemdph))])])],1)},staticRenderFns:[]};var h=n("VU/8")(u,m,!1,function(e){n("URWy")},"data-v-14eb5136",null).exports,_={name:"Form",components:{},data:function(){return{psc:"",vPsc:!1,phoneNumber:"",vPhoneNumber:!1,email:"",vEmail:!1,ulice:ulice,vUlice:vUlice,jmeno:jmeno,vJmeno:vJmeno,prijmeni:prijmeni,vPrijmeni:vPrijmeni,mesto:mesto,vMesto:vMesto,predvolba:"+420"}},mounted:function(){this.isPsc=!1},methods:{isValidInput:function(e,t,n){console.log({input:e,redex:t,key:n}),this[n]=t.test(e),console.log(t.test(e)),this.$forceUpdate()},idValidInputUnicode:function(e,t,n){console.log(e);var a=["ƒõ","≈°","ƒç","≈ô","≈æ","√Ω","√°","√≠","√©","≈Ø","√∫"],i=["e","s","c","r","z","y","a","i","e","u","u"],s=e.toLowerCase();s=s.split("");for(var o=0;o<s.length;o++)for(var r=0;r<a.length;r++)s[o]==a[r]&&(s[o]=i[r]);for(var l="",c=0;c<s.length;c++)l+=s[c];t.test(l),this[n]=t.test(l),console.log(t.test(l)),this.$forceUpdate()},rekapitulace:function(){var e=this.predvolba+this.phoneNumber;if(console.log(e),this.vEmail&&this.vJmeno&&this.vMesto&&this.vPhoneNumber&&this.vPrijmeni&&this.vPsc&&this.vUlice){var t=new CustomEvent("rekapitulaceEvent",{detail:{jmeno:this.jmeno,prijmeni:this.prijmeni,telefon:e,email:this.email,psc:this.psc,ulice:this.ulice,mesto:this.mesto}});window.dispatchEvent(t)}else alert("chybn√Ω vstup")}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form"},[n("span",[e._v("Jmeno: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.jmeno,expression:"jmeno"}],class:e.vJmeno?"":"spatnyVstup",attrs:{type:"text"},domProps:{value:e.jmeno},on:{change:function(t){return e.idValidInputUnicode(e.jmeno,/^[a-zA-Z0-9]+$/,"vJmeno")},input:function(t){t.target.composing||(e.jmeno=t.target.value)}}}),e._v(" "),n("span",[e._v("Primeni: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.prijmeni,expression:"prijmeni"}],class:e.vPrijmeni?"":"spatnyVstup",attrs:{type:"text"},domProps:{value:e.prijmeni},on:{change:function(t){return e.idValidInputUnicode(e.prijmeni,/^[a-zA-Z0-9]+$/,"vPrijmeni")},input:function(t){t.target.composing||(e.prijmeni=t.target.value)}}}),e._v(" "),n("span",[e._v("tel: ")]),e._v(" "),n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.predvolba,expression:"predvolba"}],attrs:{name:"",id:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.predvolba=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"+420"}},[e._v("+420 üá®üáø")])]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],class:e.vPhoneNumber?"":"spatnyVstup",attrs:{type:"text",name:"",id:""},domProps:{value:e.phoneNumber},on:{change:function(t){e.isValidInput(e.phoneNumber,/^(?![+]420)\d{9}$/,"vPhoneNumber")},input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}})]),e._v(" "),n("span",[e._v("email: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:e.vEmail?"":"spatnyVstup",attrs:{type:"text"},domProps:{value:e.email},on:{change:function(t){return e.isValidInput(e.email,/[a-z0-9]+@[a-z]+\.[a-z]{2,3}$/,"vEmail")},input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("span",[e._v("psc: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.psc,expression:"psc"}],class:e.vPsc?"":"spatnyVstup",attrs:{type:"text"},domProps:{value:e.psc},on:{change:function(t){e.isValidInput(e.psc,/^[1-7]\d{2}(?:\s?\d{2})?$/,"vPsc")},input:function(t){t.target.composing||(e.psc=t.target.value)}}}),e._v(" "),n("span",[e._v("Ulice: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.ulice,expression:"ulice"}],class:e.vUlice?"":"spatnyVstup",attrs:{type:"text"},domProps:{value:e.ulice},on:{change:function(t){e.idValidInputUnicode(e.ulice,/^(?=.*\d)[\da-zA-Z\s\-.,]+$/,"vUlice")},input:function(t){t.target.composing||(e.ulice=t.target.value)}}}),e._v(" "),n("span",[e._v("Mesto: ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.mesto,expression:"mesto"}],class:e.vMesto?"":"spatnyVstup",attrs:{type:"text"},domProps:{value:e.mesto},on:{change:function(t){return e.idValidInputUnicode(e.mesto,/^[a-zA-Z0-9]+$/,"vMesto")},input:function(t){t.target.composing||(e.mesto=t.target.value)}}}),e._v(" "),n("span",[e._v("Odeslat")]),e._v(" "),n("input",{attrs:{type:"submit",value:"Rekapitulace"},on:{click:function(t){return e.rekapitulace()}}})])},staticRenderFns:[]};var b=n("VU/8")(_,f,!1,function(e){n("zb7W")},"data-v-21e8090a",null).exports,g=n("Xxa5"),k=n.n(g),w=n("exGp"),N=n.n(w),x={data:function(){return{itemName:itemName,pocet:pocet,cena:cena}},methods:{}},I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modalItem"},[n("span",[e._v(e._s(e.itemName))]),e._v(" "),n("span",[e._v(e._s(e.pocet))]),e._v(" "),n("span",[e._v(e._s(e.cena))])])},staticRenderFns:[]};var $=n("VU/8")(x,I,!1,function(e){n("HzHx")},"data-v-6a9f3de0",null).exports,j={name:"Modal",components:{ModalItem:$},data:function(){return{open:!1,sdph:0,dph:0,bezdph:0,hodnotaEuro:0,jmeno:"",prijmeni:"",telefon:"",email:"",psc:"",ulice:"",mesto:""}},methods:{changeModalState:function(){console.log("closing"),this.open=!this.open},addItemToModal:function(e){var t=new(a.a.extend($));t.itemName=e.itemName,t.pocet=e.value,t.cena=e.price,t.$mount(),t.$parent=this,this.$children.push(t),this.$el.childNodes[0].childNodes[2].appendChild(t.$el)},loadKurzy:function(e,t){var n=this;return N()(k.a.mark(function a(){var i,s,o,r,l;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i="https://corsproxy.io/?"+encodeURIComponent("https://www.cnb.cz/cs/financni-trhy/devizovy-trh/kurzy-devizoveho-trhu/kurzy-devizoveho-trhu/denni_kurz.txt?date="+e),n.next=3,fetch(i);case 3:return s=n.sent,n.next=6,s.text();case 6:o=n.sent,r=o.split("\n"),l=(l=r[7].split("|"))[4],console.log(l),l=l.replace(",","."),console.log(parseFloat(l)),t.hodnotaEuro=parseFloat(l);case 14:case"end":return n.stop()}},a,n)}))()}},mounted:function(){var e=this;window.addEventListener("rekapitulaceEvent",function(t){e.jmeno=t.detail.jmeno,e.prijmeni=t.detail.prijmeni,e.telefon=t.detail.telefon,e.email=t.detail.email,e.psc=t.detail.psc,e.ulice=t.detail.ulice,e.mesto=t.detail.mesto,e.changeModalState()},!1),window.addEventListener("rekapitulaceDataReturnEvent",function(t){e.$el.childNodes[0].childNodes[2].innerHTML="",console.log(t.detail),e.sdph=t.detail.sdph,e.dph=t.detail.dph,e.bezdph=t.detail.bezdph,console.log(e);for(var n=0;n<t.detail.data.length;n++){var a=t.detail.data[n];e.addItemToModal(a)}},!1);var t=(new Date).toLocaleDateString("en-GB");this.loadKurzy(t,this)}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-wrapper",class:e.open?"":"closed"},[n("div",{staticClass:"modal",class:e.open?"":"closed"},[n("div",{staticClass:"buttonWrapper"},[n("span",{staticClass:"closebtn",on:{click:function(t){return e.changeModalState()}}},[e._v("‚ùå")])]),e._v(" "),n("div"),e._v(" "),n("br"),e._v(" "),n("div",[n("span",[e._v("v CZK")]),e._v(" "),n("br"),n("br"),e._v(" "),n("span",[e._v("Celkem s DPH "+e._s(e.sdph))]),e._v(" "),n("br"),e._v(" "),n("span",[e._v("Celkem bez DPH "+e._s(e.bezdph))]),e._v(" "),n("br"),e._v(" "),n("span",[e._v("DPH "+e._s(e.dph))]),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("span",[e._v("v Eur")]),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("span",[e._v("Celkem s DPH "+e._s((e.sdph/e.hodnotaEuro).toFixed(2)))]),e._v(" "),n("br"),e._v(" "),n("span",[e._v("Celkem bez DPH "+e._s((e.bezdph/e.hodnotaEuro).toFixed(2)))]),e._v(" "),n("br"),e._v(" "),n("span",[e._v("DPH "+e._s((e.dph/e.hodnotaEuro).toFixed(2)))])]),e._v(" "),n("br"),e._v(" "),n("div",[n("span",[e._v("Jmeno: "+e._s(e.jmeno))]),n("br"),e._v(" "),n("span",[e._v("Prijmeni: "+e._s(e.prijmeni))]),n("br"),e._v(" "),n("span",[e._v("Tel: "+e._s(e.telefon))]),n("br"),e._v(" "),n("span",[e._v("Email: "+e._s(e.email))]),n("br"),e._v(" "),n("span",[e._v("Psc: "+e._s(e.psc))]),n("br"),e._v(" "),n("span",[e._v("Ulice: "+e._s(e.ulice))]),n("br"),e._v(" "),n("span",[e._v("Mesto: "+e._s(e.mesto))]),n("br")])])])},staticRenderFns:[]};var E={name:"App",components:{Items:l,Kosik:h,Form:b,Modal:n("VU/8")(j,C,!1,function(e){n("cUlG")},"data-v-79045cd0",null).exports}},z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Modal"),this._v(" "),t("Items"),this._v(" "),t("Kosik"),this._v(" "),t("Form")],1)},staticRenderFns:[]};var y=n("VU/8")(E,z,!1,function(e){n("7EOs")},null,null).exports,P=n("/ocq"),U={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._v(" "),n("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),n("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),n("br"),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var V=n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},U,!1,function(e){n("1uuo")},"data-v-d8ec41bc",null).exports;a.a.use(P.a);var T=new P.a({routes:[{path:"/",name:"HelloWorld",component:V}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:T,components:{App:y},template:"<App/>"})},URWy:function(e,t){},cUlG:function(e,t){},cuTR:function(e,t){},zb7W:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8b3ed6bfbe4e946cd095.js.map